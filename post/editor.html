<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Post Code Generator</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100..900&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f5f5f5;
            padding: 20px;
        }
        .generator-container {
            max-width: 800px;
            margin: 40px auto;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            background-color: #fff;
        }
        .form-group {
            margin-bottom: 20px;
        }
        .form-group label {
            display: block;
            font-weight: bold;
            margin-bottom: 5px;
            font-size: 12px;
            color: #333;
        }
        .form-group input[type="text"],
        .form-group input[type="date"],
        .form-group textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
            font-size: 14px;
            font-family: 'Noto Sans KR', sans-serif;
        }
        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }
        .repeat-section {
            border: 1px dashed #007bff;
            padding: 15px;
            margin-top: 15px;
            border-radius: 4px;
            position: relative;
        }
        .repeat-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 20px;
            padding-top: 10px;
            border-top: 1px solid #eee;
            flex-wrap: wrap;
            gap: 10px;
        }
        .add-btn, .copy-btn {
            background-color: #28a745;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        .add-btn:hover, .copy-btn:hover {
            background-color: #218838;
        }
        .save-btn {
            background-color: #17a2b8;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        .save-btn:hover {
            background-color: #138496;
        }
        .load-btn {
            background-color: #6c757d;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        .load-btn:hover {
            background-color: #5a6268;
        }
        .reset-btn {
            background-color: #ffc107;
            color: #333;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        .reset-btn:hover {
            background-color: #e0a800;
        }
        .remove-btn {
            background-color: #dc3545;
            color: white;
            padding: 5px 10px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            position: absolute;
            top: 5px;
            right: 5px;
        }
        .remove-btn:hover {
            background-color: #c82333;
        }
        .copy-btn {
            background-color: #007bff;
        }
        .copy-btn:hover {
            background-color: #0056b3;
        }
        #outputCode {
            width: 100%;
            box-sizing: border-box;
            height: 300px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            margin: 10px auto;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            background-color: #f8f9fa;
            font-size: 12px;
        }
        .input-title {
            font-size: 0.9em;
            font-weight: bold;
            margin-bottom: 10px;
            margin-top: 20px;
            color: #007bff;
        }
        hr {
            margin: 30px 0;
            border: none;
            border-top: 1px solid #ddd;
        }
        h1 {
            text-align: center;
            color: #007bff;
            margin-bottom: 10px;
        }
        .subtitle {
            text-align: center;
            color: #6c757d;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>

<div class="generator-container">
    <h1>Post Code Generator</h1>
    <p class="subtitle">ì…ë ¥ í›„ **HTML ì½”ë“œ ìƒì„± ë° ë³µì‚¬**</p>
    
    <hr>

    <div class="input-title">ğŸ“ í•„ìˆ˜ ì…ë ¥ í•„ë“œ (ìƒë‹¨ ê³ ì • ì˜ì—­)</div>
    <div class="form-group">
        <label for="headerTxt">í—¤ë” í…ìŠ¤íŠ¸ (ex: ê¸€ ë³¸ë¬¸)</label>
        <input type="text" id="headerTxt" value="ê¸€ ë³¸ë¬¸">
    </div>

    <div class="form-group">
        <label for="cardDate">ì¹´ë“œ íƒœê·¸ ë‚ ì§œ (ex: 11ì›” 26ì¼ 2025ë…„)</label>
        <input type="text" id="cardDate" value="11ì›” 26ì¼ 2025ë…„">
    </div>

    <div class="form-group">
        <label for="coverImgUrl">ì»¤ë²„ ì´ë¯¸ì§€ URL (list-top ë‚´ë¶€)</label>
        <input type="text" id="coverImgUrl" value="https://res.cloudinary.com/duqilhoqe/image/upload/v1764055200/yhhvecgo7hacccylvrpw.png">
    </div>

    <div class="form-group">
        <label for="postTitle">í¬ìŠ¤íŠ¸ íƒ€ì´í‹€ (ì²« ë²ˆì§¸ .txt-title)</label>
        <input type="text" id="postTitle" value="ì œëª© ì…ë ¥">
    </div>

    <div class="form-group">
        <label for="mainContent">ë©”ì¸ ë‚´ìš© (ì²« ë²ˆì§¸ .txt)</label>
        <textarea id="mainContent">ë‚´ìš© ì…ë ¥</textarea>
    </div>

    <div class="form-group">
        <label for="mainImageUrl">ë©”ì¸ ì´ë¯¸ì§€ URL (ì„ íƒ - ë¹„ìš°ë©´ ìƒì„± ì•ˆ ë¨)</label>
        <input type="text" id="mainImageUrl" value="">
    </div>

    <div class="form-group">
        <label for="calloutHtml">ì½œì•„ì›ƒ HTML (row div ë‚´ë¶€ ì „ì²´ ì½”ë“œ)</label>
        <textarea id="calloutHtml" rows="5"><div class="callout">
    <b>ì œëª©</b> ë‚´ìš© ì…ë ¥
</div>
<div class="callout">
    <b>ì œëª©</b> ë‚´ìš© ì…ë ¥
</div></textarea>
    </div>

    <hr>

    <div class="input-title">ğŸ“ ë§ˆë¬´ë¦¬ ì„¹ì…˜ (ì„ íƒ ì‚¬í•­ - ë¹„ìš°ë©´ ìƒì„± ì•ˆ ë¨)</div>
    
    <div class="form-group">
        <label for="closingTitle">ë§ˆë¬´ë¦¬ ì œëª© (ex: ë§ˆë¬´ë¦¬)</label>
        <input type="text" id="closingTitle" value="ë§ˆë¬´ë¦¬">
    </div>

    <div class="form-group">
        <label for="closingContent">ë§ˆë¬´ë¦¬ ë‚´ìš©</label>
        <textarea id="closingContent" rows="4">ë‚´ìš© ì…ë ¥</textarea>
    </div>

    <div class="form-group">
        <label for="closingCalloutHtml">ë§ˆë¬´ë¦¬ ì½œì•„ì›ƒ HTML (ì„ íƒ)</label>
        <textarea id="closingCalloutHtml" rows="8"><div class="callout">
    <b>ì¥ì </b> ë‚´ìš© ì…ë ¥
</div>
<div class="callout">
    <b>ë‹¨ì </b> ë‚´ìš© ì…ë ¥
</div>
<div class="callout">
    <b>ê·¸ ì™¸</b> ë‚´ìš© ì…ë ¥
</div></textarea>
    </div>
    
    <hr>
    
    <div class="input-title">â• ë°˜ë³µ ì„¹ì…˜ (.txt-title + .txt + ì½œì•„ì›ƒ/ì´ë¯¸ì§€ ë“±)</div>
    <div id="repeatSections"></div>
    
    <div class="repeat-actions">
        <button type="button" class="add-btn" onclick="addRepeatSection()">â• ë°˜ë³µ ì„¹ì…˜ ì¶”ê°€</button>
        <button type="button" class="save-btn" onclick="saveToLocalStorage()">ğŸ’¾ ì„ì‹œ ì €ì¥</button>
        <button type="button" class="load-btn" onclick="loadFromLocalStorage()">ğŸ“‚ ë¶ˆëŸ¬ì˜¤ê¸°</button>
        <button type="button" class="reset-btn" onclick="resetForm()">ğŸ—‘ï¸ ì´ˆê¸°í™”</button>
        <button type="button" class="copy-btn" onclick="generateAndCopyCode()">ğŸ“‹ HTML ìƒì„± ë° ë³µì‚¬</button>
    </div>

    <hr>

    <div class="input-title">âœ… ìµœì¢… ìƒì„±ëœ HTML ì½”ë“œ</div>
    <textarea id="outputCode" readonly></textarea>
</div>

<script>
    // HTML í…œí”Œë¦¿ ì‹œì‘ ë¶€ë¶„
    function HTML_TEMPLATE_START(headerTxt, cardDate, coverImgUrl, postTitle, mainContent, mainImageUrl, calloutHtml, closingTitle, closingContent, closingCalloutHtml) {
        // ë©”ì¸ ì´ë¯¸ì§€ê°€ ìˆì„ ë•Œë§Œ ì´ë¯¸ì§€ ì„¹ì…˜ ìƒì„±
        const mainImageSection = mainImageUrl ? `
                                <div class="card-image">
                                    <img src="${mainImageUrl}" loading="lazy" alt="ì„œë¹„ìŠ¤ ì¹´ë“œ ì´ë¯¸ì§€" >
                                </div>` : '';
        
        // ì½œì•„ì›ƒ HTMLì´ ìˆì„ ë•Œë§Œ row div ìƒì„±
        const calloutSection = calloutHtml ? `
                                <p></p>
                                <div class="row">
                                 ${calloutHtml}
                               </div>
                               <p></p>` : '';
        
        // ë§ˆë¬´ë¦¬ ì„¹ì…˜ ìƒì„± (ì œëª©ì´ë‚˜ ë‚´ìš©ì´ ìˆì„ ë•Œë§Œ)
        let closingSection = '';
        if (closingTitle || closingContent) {
            closingSection = `
                                ${closingTitle ? `<p class="txt-title">${closingTitle}</p>` : ''}
                                ${closingContent ? `<p class="txt">
         ${closingContent.replace(/\n/g, '<br>')}
                                </p>` : ''}`;
            
            // ë§ˆë¬´ë¦¬ ì½œì•„ì›ƒì´ ìˆì„ ë•Œë§Œ ì¶”ê°€
            if (closingCalloutHtml) {
                closingSection += `
                                <div class="row">
                                    ${closingCalloutHtml}
                                </div>`;
            }
        }
        
        return `<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Post</title>
    <link rel="stylesheet" href="../asset/style.css">
    <script src="../asset/script.js"><\/script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.7.4/lottie.min.js"><\/script>
    <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"><\/script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../asset/icon/all.min.css">
    <link href="https://unpkg.com/aos@2.3.4/dist/aos.css" rel="stylesheet">
</head>

<body>
    <div class="bg-page">
        <header data-aos="fade-down">
            <button class="back-icon-btn" onclick="history.back()">
                <i class="fa-solid fa-chevron-left"></i>
            </button>

            <button class="menu-icon-btn" onclick="openNav()">
                <i class="fa-solid fa-bars"></i>
            </button>

            <ul>${headerTxt}
                <li>Content</li>
            </ul>
        </header>

        <div id="myNav" class="overlay">
            <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>

            <div class="overlay-content">
                <a href="../index.html">Intro</a>
                <a href="mailto:sixths_misuse8p@icloud.com">Contact</a>
                <a href="../list.html">Archive</a>
                <a href="../list-blog.html">Blog</a>
            </div>
        </div>

        <main class="main-list" data-aos="fade-up">

            <section id="list">
                <div class="list-container">


                    <ul id="itemList" class="pages-list">
                        <li class="list-top">
                           
                             <div class="card-image">
                                <img src="${coverImgUrl}" loading="lazy" alt="ì„œë¹„ìŠ¤ ì¹´ë“œ ì´ë¯¸ì§€" >
                            </div>

                            <div class="card-content">
                                <div class="card-tags">
                                    <span>${cardDate}</span>
                                </div>
                                <p>
                                     <p class="txt-title">${postTitle}</p>
                                <p class="txt">
                                 ${mainContent.replace(/\n/g, '<br>')}
                                </p>
${mainImageSection}
                                ${calloutSection}
                                
                                <hr><p></p>
                                
                                ##DYNAMIC_CONTENT##
                                
                                ##CLOSING_SECTION##


                                   </div>
                             

                            <hr><p></p>
                           
                 


                            
                        </li>









                    </ul>
                    <span class="endtxt">*ë” ì´ìƒ í•­ëª©ì´ ì—†ìŠµë‹ˆë‹¤.</span>
                </div>


            </section>

        </main>


    </div>
    <footer>
        <p>&copy; 2025 Juhankim. All rights reserved.</p>
    </footer>



    <script src="https://unpkg.com/aos@2.3.4/dist/aos.js"><\/script>
    <script>
        AOS.init();
    <\/script>
</body>

</html>`;
    }

    // ë°˜ë³µ ì„¹ì…˜ í…œí”Œë¦¿
    function REPEAT_SECTION_TEMPLATE(title, content, imageUrl, calloutHtml) {
        let html = '';
        
        if (title) {
            html += `<p class="txt-title">${title}</p>\n`;
        }
        
        if (content) {
            html += `<p class="txt">\n ${content.replace(/\n/g, '<br>')}\n</p>\n\n`;
        }
        
        if (imageUrl) {
            html += `<div class="card-image">\n    <img src="${imageUrl}" loading="lazy" alt="ì„œë¹„ìŠ¤ ì¹´ë“œ ì´ë¯¸ì§€" >\n</div>\n\n`;
        }
        
        if (calloutHtml) {
            html += `<p></p>\n<div class="row">\n ${calloutHtml}\n</div>\n<p></p>\n\n`;
        }
        
        html += `<hr><p></p>\n\n`;
        
        return html;
    }

    // ë°˜ë³µ ì„¹ì…˜ ìƒì„±
    function createRepeatSection(index, initialData = {}) {
        const sectionDiv = document.createElement('div');
        sectionDiv.className = 'repeat-section';
        sectionDiv.dataset.index = index;

        const titleValue = initialData.title || '';
        const contentValue = initialData.content || '';
        const imageUrlValue = initialData.imageUrl || '';
        const calloutHtmlValue = initialData.calloutHtml || '';

        sectionDiv.innerHTML = `
            <button class="remove-btn" type="button" onclick="removeRepeatSection(this)">âŒ ì‚­ì œ</button>
            <h3 style="margin-top: 0; color: #007bff;">ë°˜ë³µ ì„¹ì…˜ #${index}</h3>
            
            <div class="form-group">
                <label for="repeatTitle${index}">ì†Œì œëª© (.txt-title)</label>
                <input type="text" id="repeatTitle${index}" value="${titleValue}">
            </div>

            <div class="form-group">
                <label for="repeatContent${index}">ë‚´ìš© (.txt)</label>
                <textarea id="repeatContent${index}" rows="6">${contentValue}</textarea>
            </div>
            
            <div class="form-group">
                <label for="repeatImageUrl${index}">ë‚´ë¶€ ì´ë¯¸ì§€ URL (ì„ íƒ)</label>
                <input type="text" id="repeatImageUrl${index}" value="${imageUrlValue}">
            </div>
            
            <div class="form-group">
                <label for="repeatCalloutHtml${index}">ì½œì•„ì›ƒ HTML (ì„ íƒ)</label>
                <textarea id="repeatCalloutHtml${index}" rows="3">${calloutHtmlValue}</textarea>
            </div>
        `;
        return sectionDiv;
    }

    let repeatIndex = 1;
    const repeatSectionsContainer = document.getElementById('repeatSections');

    // ì´ˆê¸° ì„¹ì…˜ ì¶”ê°€
    function addInitialSection() {
        const sectionData = {
            title: 'ì†Œì œëª© ì…ë ¥',
            content: 'ë‚´ìš© ì…ë ¥',
            imageUrl: '',
            calloutHtml: ''
        };
        repeatSectionsContainer.appendChild(createRepeatSection(repeatIndex++, sectionData));
    }
    
    // ë²„íŠ¼ìœ¼ë¡œ ì„¹ì…˜ ì¶”ê°€
    function addRepeatSection() {
        repeatSectionsContainer.appendChild(createRepeatSection(repeatIndex++));
    }

    // ì„¹ì…˜ ì‚­ì œ
    function removeRepeatSection(button) {
        const sectionDiv = button.closest('.repeat-section');
        if (repeatSectionsContainer.childElementCount > 1) {
            sectionDiv.remove();
        } else {
            alert("ìµœì†Œí•œ í•˜ë‚˜ì˜ ë°˜ë³µ ì„¹ì…˜ì€ ìœ ì§€í•´ì•¼ í•©ë‹ˆë‹¤.");
        }
    }

    // HTML ì½”ë“œ ìƒì„± ë° ë³µì‚¬
    function generateAndCopyCode() {
        // 1. ê³ ì • ì…ë ¥ ê°’ ìˆ˜ì§‘
        const headerTxt = document.getElementById('headerTxt').value.trim();
        const cardDate = document.getElementById('cardDate').value.trim();
        const coverImgUrl = document.getElementById('coverImgUrl').value.trim();
        const postTitle = document.getElementById('postTitle').value.trim();
        const mainContent = document.getElementById('mainContent').value.trim();
        const mainImageUrl = document.getElementById('mainImageUrl').value.trim();
        const calloutHtml = document.getElementById('calloutHtml').value.trim();
        
        // ë§ˆë¬´ë¦¬ ì„¹ì…˜ ê°’ ìˆ˜ì§‘
        const closingTitle = document.getElementById('closingTitle').value.trim();
        const closingContent = document.getElementById('closingContent').value.trim();
        const closingCalloutHtml = document.getElementById('closingCalloutHtml').value.trim();

        // 2. ë°˜ë³µ ì„¹ì…˜ ë‚´ìš© ìˆ˜ì§‘ ë° HTML ìƒì„±
        let dynamicContent = '';
        const sections = repeatSectionsContainer.querySelectorAll('.repeat-section');
        
        sections.forEach((section) => {
            const index = section.dataset.index;
            const title = document.getElementById(`repeatTitle${index}`).value.trim();
            const content = document.getElementById(`repeatContent${index}`).value.trim();
            const imageUrl = document.getElementById(`repeatImageUrl${index}`).value.trim();
            const callout = document.getElementById(`repeatCalloutHtml${index}`).value.trim();

            if (title || content) {
                dynamicContent += REPEAT_SECTION_TEMPLATE(title, content, imageUrl, callout);
            }
        });
        
        // 3. ì „ì²´ í…œí”Œë¦¿ì— ë°ì´í„° ì‚½ì…
        let finalCode = HTML_TEMPLATE_START(headerTxt, cardDate, coverImgUrl, postTitle, mainContent, mainImageUrl, calloutHtml, closingTitle, closingContent, closingCalloutHtml);
        
        // ë™ì  ì½˜í…ì¸  ì‚½ì…
        finalCode = finalCode.replace('##DYNAMIC_CONTENT##', dynamicContent);
        
        // ë§ˆë¬´ë¦¬ ì„¹ì…˜ ìƒì„± ë° ì‚½ì…
        let closingSection = '';
        if (closingTitle || closingContent) {
            if (closingTitle) {
                closingSection += `<p class="txt-title">${closingTitle}</p>\n`;
            }
            if (closingContent) {
                closingSection += `<p class="txt">
         ${closingContent.replace(/\n/g, '<br>')}
                                </p>\n`;
            }
            if (closingCalloutHtml) {
                closingSection += `<div class="row">
                                    ${closingCalloutHtml}
                                </div>\n`;
            }
        }
        finalCode = finalCode.replace('##CLOSING_SECTION##', closingSection);
        
        // 4. ê²°ê³¼ ì¶œë ¥ ë° ë³µì‚¬
        const outputCodeArea = document.getElementById('outputCode');
        outputCodeArea.value = finalCode;

        // í´ë¦½ë³´ë“œì— ë³µì‚¬
        outputCodeArea.select();
        outputCodeArea.setSelectionRange(0, 99999); // ëª¨ë°”ì¼ ì§€ì›
        
        try {
            document.execCommand('copy');
            alert('âœ… HTML ì½”ë“œê°€ ì„±ê³µì ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìœ¼ë©° í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
        } catch (err) {
            alert('âš ï¸ í´ë¦½ë³´ë“œ ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ìˆ˜ë™ìœ¼ë¡œ ë³µì‚¬í•´ì£¼ì„¸ìš”.');
        }
    }

    // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸° ì„¹ì…˜ ì¶”ê°€
    window.onload = function() {
        // ì €ì¥ëœ ë°ì´í„°ê°€ ìˆëŠ”ì§€ í™•ì¸
        const savedData = localStorage.getItem('postGeneratorData');
        if (savedData) {
            const confirmLoad = confirm('ğŸ’¾ ì €ì¥ëœ ë°ì´í„°ê°€ ìˆìŠµë‹ˆë‹¤. ë¶ˆëŸ¬ì˜¤ì‹œê² ìŠµë‹ˆê¹Œ?');
            if (confirmLoad) {
                loadFromLocalStorage();
            } else {
                addInitialSection();
            }
        } else {
            addInitialSection();
        }
        
        // ìë™ ì €ì¥ (5ì´ˆë§ˆë‹¤)
        setInterval(autoSave, 5000);
    };
    
    // ìë™ ì €ì¥ í•¨ìˆ˜
    function autoSave() {
        const data = collectFormData();
        localStorage.setItem('postGeneratorAutoSave', JSON.stringify(data));
    }
    
    // í¼ ë°ì´í„° ìˆ˜ì§‘
    function collectFormData() {
        const data = {
            headerTxt: document.getElementById('headerTxt').value,
            cardDate: document.getElementById('cardDate').value,
            coverImgUrl: document.getElementById('coverImgUrl').value,
            postTitle: document.getElementById('postTitle').value,
            mainContent: document.getElementById('mainContent').value,
            mainImageUrl: document.getElementById('mainImageUrl').value,
            calloutHtml: document.getElementById('calloutHtml').value,
            closingTitle: document.getElementById('closingTitle').value,
            closingContent: document.getElementById('closingContent').value,
            closingCalloutHtml: document.getElementById('closingCalloutHtml').value,
            repeatSections: []
        };
        
        // ë°˜ë³µ ì„¹ì…˜ ë°ì´í„° ìˆ˜ì§‘
        const sections = repeatSectionsContainer.querySelectorAll('.repeat-section');
        sections.forEach((section) => {
            const index = section.dataset.index;
            data.repeatSections.push({
                index: index,
                title: document.getElementById(`repeatTitle${index}`).value,
                content: document.getElementById(`repeatContent${index}`).value,
                imageUrl: document.getElementById(`repeatImageUrl${index}`).value,
                calloutHtml: document.getElementById(`repeatCalloutHtml${index}`).value
            });
        });
        
        return data;
    }
    
    // localStorageì— ì €ì¥
    function saveToLocalStorage() {
        const data = collectFormData();
        localStorage.setItem('postGeneratorData', JSON.stringify(data));
        alert('âœ… ë°ì´í„°ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!');
    }
    
    // localStorageì—ì„œ ë¶ˆëŸ¬ì˜¤ê¸°
    function loadFromLocalStorage() {
        const savedData = localStorage.getItem('postGeneratorData');
        if (!savedData) {
            // ìë™ ì €ì¥ëœ ë°ì´í„° í™•ì¸
            const autoSavedData = localStorage.getItem('postGeneratorAutoSave');
            if (autoSavedData) {
                const confirmAutoLoad = confirm('ğŸ”„ ìë™ ì €ì¥ëœ ë°ì´í„°ê°€ ìˆìŠµë‹ˆë‹¤. ë¶ˆëŸ¬ì˜¤ì‹œê² ìŠµë‹ˆê¹Œ?');
                if (confirmAutoLoad) {
                    restoreFormData(JSON.parse(autoSavedData));
                    return;
                }
            }
            alert('âš ï¸ ì €ì¥ëœ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.');
            return;
        }
        
        const data = JSON.parse(savedData);
        restoreFormData(data);
        alert('âœ… ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì™”ìŠµë‹ˆë‹¤!');
    }
    
    // í¼ ë°ì´í„° ë³µì›
    function restoreFormData(data) {
        document.getElementById('headerTxt').value = data.headerTxt || '';
        document.getElementById('cardDate').value = data.cardDate || '';
        document.getElementById('coverImgUrl').value = data.coverImgUrl || '';
        document.getElementById('postTitle').value = data.postTitle || '';
        document.getElementById('mainContent').value = data.mainContent || '';
        document.getElementById('mainImageUrl').value = data.mainImageUrl || '';
        document.getElementById('calloutHtml').value = data.calloutHtml || '';
        document.getElementById('closingTitle').value = data.closingTitle || '';
        document.getElementById('closingContent').value = data.closingContent || '';
        document.getElementById('closingCalloutHtml').value = data.closingCalloutHtml || '';
        
        // ê¸°ì¡´ ë°˜ë³µ ì„¹ì…˜ ì œê±°
        repeatSectionsContainer.innerHTML = '';
        
        // ë°˜ë³µ ì„¹ì…˜ ë³µì›
        if (data.repeatSections && data.repeatSections.length > 0) {
            repeatIndex = 1;
            data.repeatSections.forEach((sectionData) => {
                const section = createRepeatSection(repeatIndex++, {
                    title: sectionData.title,
                    content: sectionData.content,
                    imageUrl: sectionData.imageUrl,
                    calloutHtml: sectionData.calloutHtml
                });
                repeatSectionsContainer.appendChild(section);
            });
        } else {
            addInitialSection();
        }
    }
    
    // í¼ ì´ˆê¸°í™”
    function resetForm() {
        const confirmReset = confirm('âš ï¸ ëª¨ë“  ë°ì´í„°ë¥¼ ì´ˆê¸°í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (ì €ì¥ëœ ë°ì´í„°ëŠ” ìœ ì§€ë©ë‹ˆë‹¤)');
        if (!confirmReset) return;
        
        document.getElementById('headerTxt').value = 'ê¸€ ë³¸ë¬¸';
        document.getElementById('cardDate').value = '11ì›” 26ì¼ 2025ë…„';
        document.getElementById('coverImgUrl').value = 'https://res.cloudinary.com/duqilhoqe/image/upload/v1764055200/yhhvecgo7hacccylvrpw.png';
        document.getElementById('postTitle').value = 'ì œëª© ì…ë ¥';
        document.getElementById('mainContent').value = 'ë‚´ìš© ì…ë ¥';
        document.getElementById('mainImageUrl').value = '';
        document.getElementById('calloutHtml').value = '<div class="callout">\n    <b>ì œëª©</b> ë‚´ìš© ì…ë ¥\n</div>\n<div class="callout">\n    <b>ì œëª©</b> ë‚´ìš© ì…ë ¥\n</div>';
        document.getElementById('closingTitle').value = 'ë§ˆë¬´ë¦¬';
        document.getElementById('closingContent').value = 'ë‚´ìš© ì…ë ¥';
        document.getElementById('closingCalloutHtml').value = '<div class="callout">\n    <b>ì¥ì </b> ë‚´ìš© ì…ë ¥\n</div>\n<div class="callout">\n    <b>ë‹¨ì </b> ë‚´ìš© ì…ë ¥\n</div>\n<div class="callout">\n    <b>ê·¸ ì™¸</b> ë‚´ìš© ì…ë ¥\n</div>';
        document.getElementById('outputCode').value = '';
        
        // ë°˜ë³µ ì„¹ì…˜ ì´ˆê¸°í™”
        repeatSectionsContainer.innerHTML = '';
        repeatIndex = 1;
        addInitialSection();
        
        alert('âœ… í¼ì´ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤!');
    }
</script>

</body>
</html>