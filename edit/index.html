<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dld 잉 잌게</title>
    <link rel="stylesheet" href="assets/style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.7.4/lottie.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100..900&display=swap" rel="stylesheet">
</head>
<script>
    // ======= Web Audio Context 설정 =======
    const ctx = new (window.AudioContext || window.webkitAudioContext)();
    let audioUnlocked = false;
    
    // ======= 사운드 생성 함수 =======
    function beep() {
      if (!audioUnlocked) return;
    
      const osc = ctx.createOscillator();
      osc.type = "sine";         // sine, square, triangle, sawtooth
      osc.frequency.value = 440; // Hz (A4)
      const gainNode = ctx.createGain();
      gainNode.gain.value = 0.2; // 볼륨
    
      osc.connect(gainNode);
      gainNode.connect(ctx.destination);
      osc.start();
      osc.stop(ctx.currentTime + 0.15); // 0.15초
    }
    
    // ======= 진동 함수 =======
    function vibrate(duration = 30) {
      if (navigator.vibrate) navigator.vibrate(duration);
    }
    
    // ======= 첫 터치 이벤트 =======
    function unlockAudioAndStart() {
      if (audioUnlocked) return;
    
      // AudioContext 언락
      const temp = ctx.createBufferSource();
      temp.connect(ctx.destination);
      temp.start(0);
    
      audioUnlocked = true;
      console.log("Audio unlocked!");
    
      // 예제: 1초마다 beep + 진동 반복
      setInterval(() => {
        beep();
        vibrate(30);
      }, 1000);
    }
    
    // 화면 어디든 터치/클릭하면 활성화 (버튼 필요 없음)
    window.addEventListener("touchstart", unlockAudioAndStart, { once: true });
    window.addEventListener("click", unlockAudioAndStart, { once: true }); // 데스크탑용
    </script>
<body>
    <div class="bg">
    <header>
        <h1>Local</h1>
        <nav>
            <ul>List Title Area
                <li><a href="#home">li Menu</a></li>
                <li><a href="#about">한글 출력</a></li>
            </ul>
        </nav>
    </header>

    <main>
        
        <section id="home">
            <!-- <div id="anim"></div>
            <script>
              lottie.loadAnimation({
                container: document.getElementById('anim'),
                renderer: 'svg',
                loop: true,
                autoplay: true,
                path: 'assets/voice.json'
              });
            </script> -->
            <div class="bubble">
                <span id="typing"></span>
            </div>
            
            <script>
            new Typed("#typing", {
              strings: ["안녕하세요!", "여기서 다음 문구가 자동으로 나옵니다.", "이런 식으로 계속 보여줄 수 있어요."],
              typeSpeed: 45,
              backSpeed: 0,
              smartBackspace: false,
              fadeOut: true,
              loop: false
            });
            </script>
        </section>

    </main>

    <footer>
        <p>&copy; 2025 . All rights reserved.</p>
    </footer>
</div>
</body>
</html>
